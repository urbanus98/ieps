(function(){var k;function l(a,b){function c(){}c.prototype=a.prototype;b.prototype=new c;b.prototype.constructor=b}var m=window.JSON.parse,n=window.JSON.stringify;function p(a){var b=Error.apply(this,arguments);b.name=this.name="InvalidCommandError";this.stack=b.stack;this.message=b.message||a||"The command is invalid"}l(Error,p);function q(a){var b=Error.apply(this,arguments);b.name=this.name="TrackerNotInitializedError";this.stack=b.stack;this.message=b.message||a||"Initialize a tracker first"}l(Error,q);function r(){for(var a="",b=0;36>b;b++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}function u(a,b){try{return a[b]}catch(c){return""}}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function w(a,b,c){this.id=r();this.b=a;this.c=b;this.a=c}function x(a){var b={};b.id=a.id;b.timestamp=a.b;b.url=a.c;b.params=a.a;return b}
function y(a,b,c){a.open("GET",b,!0);a.onreadystatechange=function(){4===a.readyState&&a.status&&c()};a.send()}function z(a,b,c){return(a=a.overriddenBaseUrl)?a+c:b}function A(a){var b,c,d;a+="=";d=document.cookie.split(";");for(b=0;b<d.length;b++)if(c=d[b],c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),0===c.indexOf(a))return c.substring(a.length,c.length);return null}
function B(){return"xxxxxxxx-xxxx-6xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}function C(a,b){var c=[],d;for(d in a)if(a.hasOwnProperty(d)){var e=b?b+"."+d:d,f=a[d];null!==f&&"object"===typeof f?c.push(C(f,e)):c.push(encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")}function D(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}
function E(a,b){var c=u(a,b);return null===c||void 0===c?"":"[object String]"===Object.prototype.toString.call(c)?c:n(c)}function F(a){return"undefined"===typeof a}var G="storage";function H(){this.a={}}function I(a,b){if(F(b)||F(a.a[b]))throw new p("Handler for key "+b+" doesn't exist");return a.a[b]}
function J(a,b,c){this.p=a.o;this.r=a.f;var d={},e={};if(0<b.length){if("string"===typeof b[0])0<b.length&&(e.category=b[0]),1<b.length&&(e.action=b[1]),2<b.length&&(e.label=b[2]),3<b.length&&(e.value=b[3]),4<b.length&&(d=b[4]);else if("object"===typeof b[0])e=b[0],d.customParams=e.customParams||null;else throw new p("Invalid event definition");this.n=E(e,"category");this.d=E(e,"action");this.h=E(e,"label");this.m=E(e,"value")}this.l=z(a,"//ngacm.com/c5t/ev2","ev2");this.i=a.id;this.j=a.userId||"";
this.c=d.customParams||a.customParams||null;this.e=a.clientId||"";this.g=a.version;this.b=c.getTime()}J.prototype.a=function(){var a={};a.epid=this.p;a.eseq=this.r;a.ecat=this.n;a.eact=this.d;a.elab=this.h;a.eval=this.m;a.sid=this.i;a.suid=this.j;a.xp=this.c?n(this.c):"";a.cid=this.e;a.ctv=this.g;a.ccts=this.b;return new w(this.b,this.l,a)};function K(a,b){var c=a.getContext(),d=new J(c,b,new Date);L(a,{f:c.f+1});return x(d.a())}
function M(a,b,c,d){b=b||{};this.w=function(a){if(!v(a))throw Error("Custom cookies option has to be an array");var b,c={};for(b=0;b<a.length;b++){var d=A(a[b]);d&&(c[a[b]]=d)}return c};this.j=z(a,"//ngacm.com/c5t/pv2","pv2");this.h=a.id;this.i=a.userId||"";this.A=a.sessionId||"";this.c=b.customParams||a.customParams||null;var e=this.w(b.customCookies||a.customCookies||[]);this.d=!1===D(e)?e:null;this.e=a.clientId;this.g=a.version;this.n=u(d.location,"href");this.m=b.referrer||a.referrer||u(d.document,
"referrer");this.v=u(d.navigator,"userAgent");this.r=u(d.screen,"width");this.p=u(d.screen,"height");this.l=d.navigator&&d.navigator.cookieEnabled?1:0;this.b=c.getTime();this.u=c.getTimezoneOffset()}M.prototype.a=function(){var a={};a.sid=this.h;a.suid=this.i;a.ssid=this.A;a.xp=this.c?n(this.c):"";a.xc=this.d?n(this.d):"";a.cid=this.e;a.ctv=this.g;a.crq=this.n;a.crf=this.m;a.cua=this.v;a.csw=this.r;a.csh=this.p;a.cce=this.l;a.ccts=this.b;a.ctz=this.u;a=new w(this.b,this.j,a);a.a.pid=a.id;return a};
function aa(a,b){var c=b.pop(),d=new Date,e=a.getContext(),c=(new M(e,c,d,window)).a(),d=e.k?e.o:c.id;L(a,{k:!1});c.a.pid=d;L(a,{o:d,f:e.k?e.f:0});return x(c)}
function N(a,b){b=b||{};var c=b.cookieDomain,d=b.cookieName||"_cmuid",e=b.userId,f=b.sessionId,t=b.customParams,Y=b.customCookies,Z=b.referrer;this.id=a;this.version=b.overriddenTrackerVersion||"eb0ef5f8";this.a={};this.a.o=r();this.a.f=0;this.a.k=!0;if(!c)a:{var c=window.location.hostname,h="allegrogroup.com allegroapi.io allegro.pl allegro.de aukro.cz aukro.ua vatera.hu cokupic.pl otodom.pl otomoto.pl otomoto.eu sendit.pl".split(" "),g;for(g=0;g<h.length;g++){var O=c.indexOf(h[g]);if(-1<O){c="."+
c.substring(O);break a}}c=void 0}this.a.cookieDomain=c;this.a.cookieName=d;c=this.a;h=this.a.cookieDomain;(g=A(d))||(h={t:63072E6,domain:h},g=[""+d+"="+B()],h.t&&g.push("expires="+(new Date((new Date).getTime()+h.t)).toGMTString()),g.push("path="+(h.path?h.path:"/")),h.domain&&g.push("domain="+h.domain),document.cookie=g.join(";"),g=A(d));c.clientId=g||"";this.a.userId=e;this.a.sessionId=f;this.a.customParams=t;this.a.customCookies=Y;this.a.referrer=Z;b.overriddenBaseUrl&&(this.a.overriddenBaseUrl=
b.overriddenBaseUrl)}N.prototype.getContext=function(){var a={},b;for(b in this.a)this.a.hasOwnProperty(b)&&(a[b]=this.a[b]);a.id=this.id;a.version=this.version;return a};function L(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.a[c]=b[c])}function P(a,b){this.a={};this.c=[];this.b=a;this.e=b;this.a.create=P.prototype.h;this.a.send=P.prototype.i;this.a.set=P.prototype.j}l(H,P);
P.prototype.d=function(){for(this.c.push(Array.prototype.slice.call(arguments));this.c.length;){var a=this.c.splice(0,1)[0];if(v(a)&&0===a.length)throw new p("No arguments given");var b=a[0].split("@"),c=1<b.length?b[1]:null,a=a.slice(1,a.length);I(this,b[0]).call(this,c,a)}};P.prototype.g=function(a){if(v(a))for(var b=0;b<a.length;b++)this.d.apply(this,a[b])};
P.prototype.h=function(a,b){if(v(b)&&0===b.length)throw new p;a=b[0];var c=this.b,d=a,e=1<b.length?b[1]:null;c.b=c.b||d;F(c.a[d])?c.a[d]=new N(d,e):console&&console.log("Tracker with id: "+d+" already exists, skip creating.")};P.prototype.i=function(a,b){var c=Q(this.b,a),d=0<b.length?b[0]:"pageview";b=b.slice(1,b.length);var e=this.e,f=b,c=I(e,d).call(null,c,f);ba(e.b,c)};
P.prototype.j=function(a,b){if(v(b)&&0===b.length)throw new p("Second argument of 'set' command has not to be empty");var c=b[0];if("[object Object]"!==Object.prototype.toString.call(c))throw new p("Object is required as a second argument of 'set' command");L(Q(this.b,a),c)};l(H,function(){this.a={}});function R(a,b,c){this.d=a;this.b=b;this.a=c;ca(this)}function ba(a,b){a.b.s(b);a.send(b,function(){for(var b=S(a.b),d=0;d<b.length;d++)a.a.contains(b[d])||a.send(b[d])})}
function ca(a){a.c=function(b,c){return function(){a.b.remove(b);a.a.remove(b);F(c)||c()}}}R.prototype.send=function(a,b){this.a.s(a);this.d.send(a,this.c(a,b))};function T(){}T.prototype.setItem=function(){};T.prototype.getItem=function(){};function U(){this.a={}}U.prototype.contains=function(a){return!!this.a[a.id]};U.prototype.s=function(a){this.a[a.id]=!0};U.prototype.remove=function(a){delete this.a[a.id]};function V(a){this.a={};this.b=a;this.a.pageview=aa;this.a.event=K}l(H,V);
function W(a){this.a=a;G=k+"-"+G}W.prototype.send=function(a,b){var c=(new Date).getTime();if(36E5<c-a.timestamp)b();else{var d=a.url,e=a.params;e.csts=c;var c=e,f;for(f in c)null!==c[f]&&void 0!==c[f]&&""!==c[f]||delete c[f];e=C(e);f=new this.a.XMLHttpRequest;y(f,d+"?"+e,b)}};function X(a){this.a=a}X.prototype.s=function(a){var b=S(this);10<=b.length&&(b=b.slice(1,10));b.push(a);this.a.setItem(G,n(b))};
X.prototype.remove=function(a){for(var b=S(this),c=0;c<b.length;c++)b[c].id===a.id&&b.splice(c,1);this.a.setItem(G,n(b))};function S(a){a=m(a.a.getItem(G)||"[]");a.sort(function(a,c){return a.timestamp-c.timestamp});return a}function da(){this.b=null;this.a={}}function Q(a,b){var c;if(a.a[b])c=a.a[b];else{if(!a.b||!a.a[a.b])throw new q;c=a.a[a.b]}return c};function ea(a){try{var b=a.localStorage;return"undefined"!==typeof b&&(b.setItem("test_nga","test_nga"),"test_nga"===b.getItem("test_nga"))?(b.removeItem("test_nga"),!0):!1}catch(c){return!1}}(function(a){var b=a["cm.analytics.object"]||"cm";k=b;var c;a[b]&&a[b].q&&(c=a[b].q);var d;ea(a)?d=a.localStorage:d=new T;var e=new W(a),f=new da;d=new V(new R(e,new X(d),new U));var t=new P(f,d);a[b]=function(){t.d.apply(t,arguments)};a[b].loaded=!0;t.g(c)})(window);})();
